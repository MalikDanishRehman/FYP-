@page "/Consumer"

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
    body {
        margin: 0;
        padding: 0;
        background-color: black;
        color: white;
        overflow-x: hidden;
        font-family: 'Inter', sans-serif;
    }

    /* ======================
               BG + CENTER CONTENT
               ====================== */
    .bg-full {
        height: calc(100vh - 60px);
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding-top: 0px; /* ↓ zero kar diya */
        margin-top: -150px;
        margin-bottom:150px;/* ↓ video thora upar push */
    }

    video {
       
        box-shadow: 0 0 20px black;
    }

    /* ======================
               RIGHT SLIDE-DOWN SIDEBAR
               ====================== */

    .sidebar-wrapper {
        position: fixed;
        top: 80px; /* Below navbar */
        right: 60px;
        z-index: 20;
        width: auto;
        display: flex;
        justify-content: flex-end;
    }

    .sidebar {
        width: 180px;
        background: #1e1e1e;
        padding: 15px;
        border-radius: 12px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        /* Hidden initially */
        transform: translateY(-150%);
        opacity: 0;
        transition: 0.35s ease-in-out;
    }

        .sidebar.show {
            transform: translateY(0);
            opacity: 1;
        }

    .side-btn {
        display: flex;
        align-items: center;
        padding: 12px 15px;
        font-size: 15px;
        color: white;
        background: #2a2a2a;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: 0.2s;
    }

        .side-btn:hover {
            background: #3d3d3d;
            transform: translateX(4px);
        }

    /* ======================
               RIGHT FLOATING ARROW
               ====================== */
    .toggle-sidebar-btn {
        position: fixed;
        top: 65px;
        right: 30px;
        z-index: 30;
        font-size: 28px;
        color: white;
        cursor: pointer;
        background: none;
        border: none;
        transition: 0.3s;
    }

        .toggle-sidebar-btn:hover {
            color: #58a6ff;
        }

    /* ======================
               CHAT INPUT BOX
               ====================== */
    .chat-input-container {
        position: fixed;
        bottom: 20px;
        width: 100%;
        display: flex;
        justify-content: center;
        z-index: 10;
    }

    .chat-input-box {
        width: 60%;
        max-width: 700px;
        background-color: #1e1f24;
        border: 1px solid #3a3b3f;
        border-radius: 30px;
        padding: 10px 20px;
        display: flex;
        align-items: center;
        box-shadow: 0 0 10px #0006;
    }

        .chat-input-box input {
            flex: 1;
            border: none;
            background: transparent;
            color: white;
            font-size: 16px;
            outline: none;
            padding: 5px;
        }

        .chat-input-box button {
            background: none;
            border: none;
            color: #c9d1d9;
            font-size: 22px;
            cursor: pointer;
            transition: color 0.3s;
        }

            .chat-input-box button:hover {
                color: #58a6ff;
            }
</style>


<!-- RIGHT SIDE TOGGLE BUTTON -->
<button class="toggle-sidebar-btn" id="toggleSidebar">
    <i class="fa-solid fa-caret-down" style="color:#74C0FC;"> </i>
</button>

<!-- RIGHT SLIDE-DOWN SIDEBAR -->
<div class="sidebar-wrapper">
    <div class="sidebar" id="sidebar">
        <a href="/Cardpage" class="side-btn">Order</a>
        <a href="" class="side-btn">Bill</a>
        <a href="" class="side-btn">Setting</a>
    </div>
</div>

<!-- CENTER VIDEO -->
<div class="bg-full">
    <video id="myVideo" width="480" autoplay muted playsinline>
        <source src="/video/blob.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
 </div>   

<!-- CHAT INPUT -->
<div class="chat-input-container">
    <div class="chat-input-box">
        <input type="text" placeholder="Message..." />
        <button><i class="bi bi-send-fill"></i></button>
    </div>
</div>


<script>
    // VIDEO PING-PONG REVERSE ANIMATION
    const video = document.getElementById('myVideo');
    let reverse = false;

    video.addEventListener('loadedmetadata', () => {
        video.playbackRate = 1;
        video.play();

        setInterval(() => {
            if (reverse) {
                video.currentTime -= 0.05;
                if (video.currentTime <= 0) reverse = false;
            } else {
                video.currentTime += 0.05;
                if (video.currentTime >= video.duration) reverse = true;
            }
        }, 50);
    });

    // SIDEBAR TOGGLE
    document.getElementById("toggleSidebar").addEventListener("click", () => {
        document.getElementById("sidebar").classList.toggle("show");
    });
</script>